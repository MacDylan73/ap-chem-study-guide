<div id="accountModal" class="modal" style="display:none;">
  <div class="modal-content" style="max-width:400px; margin:auto; position:relative;">
    <span id="closeAccountModal" class="close" style="position:absolute; top:10px; right:16px; font-size:24px; cursor:pointer;">&times;</span>
    
    <!-- Username Display Bar -->
    <div style="display:flex; align-items:center; justify-content:center; margin-top:24px; margin-bottom:10px;">
      <button id="editUsernameBtn" title="Edit Username" style="
        display:inline-flex;
        align-items:center;
        justify-content:center;
        width:28px;
        height:28px;
        background:#f5f5f5;
        border:1px solid #bbb;
        border-radius:6px;
        margin-right:8px;
        cursor:pointer;
        padding:0;
        box-sizing:border-box;
        transition:background 0.15s, border-color 0.15s;
      ">
        <!-- Standard pencil SVG icon for edit (Material style) -->
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#3949ab" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M12 20h9"/>
          <path d="M16.5 3.5a2.121 2.121 0 1 1 3 3l-12.13 12.13a2.121 2.121 0 0 1-1.06.56l-4 1a1 1 0 0 1-1.21-1.21l1-4a2.121 2.121 0 0 1 .56-1.06z"/>
        </svg>
      </button>
      <span id="accountUsernameDisplay" style="font-size:1.3em; font-weight:600; text-align:center;"></span>
    </div>
    <!-- Username Edit Bar (hidden by default) -->
    <div id="accountUsernameEditSection" style="display:none; flex-direction:column; align-items:center;">
      <input type="text" id="accountUsernameInput" style="width:70%; margin-bottom:6px;" placeholder="Enter new username" />
      <div id="accountUsernameErrorMsg" style="color:#c00; font-size:0.95em; min-height:18px;"></div>
      <div>
        <button id="saveEditUsernameBtn" style="margin-right:8px;">Save</button>
        <button id="cancelEditUsernameBtn">Cancel</button>
      </div>
    </div>
    
    <!-- Your Progress Section -->
    <div style="display:flex; align-items:center; margin-top:24px; margin-bottom:10px;">
      <span style="font-size:1.1em; font-weight:600;">Your Progress</span>
      <hr style="flex:1; margin-left:10px; border:none; border-top:1.5px solid #ddd;">
    </div>
    <div id="unitProgressList">
      <!-- Progress bars and final quiz scores will be injected here -->
    </div>
    
    <!-- QOTD Stats Section -->
    <div style="display:flex; align-items:center; margin-top:24px; margin-bottom:10px;">
      <span style="font-size:1.1em; font-weight:600;">QOTD Stats</span>
      <hr style="flex:1; margin-left:10px; border:none; border-top:1.5px solid #ddd;">
    </div>
    <div id="qotdStatsBox">
      <!-- QOTD stats injected here (same format as your other qotd stats box) -->
    </div>
    
    <!-- Badges Section -->
    <div style="display:flex; align-items:center; margin-top:24px; margin-bottom:10px;">
      <span style="font-size:1.1em; font-weight:600;">Your Badges</span>
      <hr style="flex:1; margin-left:10px; border:none; border-top:1.5px solid #ddd;">
    </div>
    <div id="userBadges" style="display:flex; gap:18px; justify-content:center; margin-bottom:16px;">
      <!-- 4 badge outlines as placeholders -->
      <div style="width:42px; height:42px; border:2px dashed #bbb; border-radius:50%; background:#fafafa;"></div>
      <div style="width:42px; height:42px; border:2px dashed #bbb; border-radius:50%; background:#fafafa;"></div>
      <div style="width:42px; height:42px; border:2px dashed #bbb; border-radius:50%; background:#fafafa;"></div>
      <div style="width:42px; height:42px; border:2px dashed #bbb; border-radius:50%; background:#fafafa;"></div>
    </div>
  </div>
</div>
