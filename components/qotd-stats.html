<!--
  qotd-stats.html -- AP Chem QOTD User Stats & Leaderboard Modals
  ---------------------------------------------------------------
  This file contains two modals:
    1. User Stats Modal (shows the signed-in user's QOTD performance)
    2. Leaderboard Modal (shows top QOTD performers by correct answers)
  Includes buttons for opening each modal.
  Each modal is clearly commented and organized for easy JS integration.
  ESC key closes modals!
-->

<div>
  <h2>QOTD Stats & Leaderboard</h2>

  <!-- -------- Buttons to open modals -------- -->
  <button id="openStatsModalBtn" class="modal-btn">View My QOTD Stats</button>
  <button id="openLeaderboardModalBtn" class="modal-btn">View Leaderboard</button>

  <!-- -------- User Stats Modal -------- -->
  <div id="userStatsModal" class="modal" tabindex="-1">
    <div class="modal-content">
      <button class="modal-close" id="closeStatsModalBtn" aria-label="Close">&times;</button>
      <div class="modal-title">My QOTD Stats</div>
      <!-- User info section, populated dynamically -->
      <div id="statsUserInfo"></div>
      <!-- Stats list -->
      <ul class="stats-list">
        <li><b>Total Attempted:</b> <span id="statsTotalAttempted">...</span></li>
        <li><b>Total Correct:</b> <span id="statsTotalCorrect">...</span></li>
        <li><b>Current Streak:</b> <span id="statsCurrentStreak">...</span></li>
        <li><b>Longest Streak:</b> <span id="statsLongestStreak">...</span></li>
      </ul>
      <!-- Error message if not signed in -->
      <div id="statsErrorMsg" style="color:#c00; margin-top:10px; display:none;"></div>
    </div>
  </div>

  <!-- -------- Leaderboard Modal -------- -->
  <div id="leaderboardModal" class="modal" tabindex="-1">
    <div class="modal-content">
      <button class="modal-close" id="closeLeaderboardModalBtn" aria-label="Close">&times;</button>
      <div class="modal-title">QOTD Leaderboard</div>
      <!-- Leaderboard list -->
      <ol class="leaderboard-list" id="leaderboardList">
        <!-- Leaderboard entries injected here by JS -->
      </ol>
      <!-- Error/loading message -->
      <div id="leaderboardErrorMsg" style="color:#c00; margin-top:10px; display:none;"></div>
      <div id="leaderboardLoadingMsg" style="color:#444; margin-top:10px; display:none;">Loading...</div>
    </div>
  </div>

  <!-- Link to external JS for modal logic -->
  <script type="module" src="/js/qotd-stats.js" defer></script>
</div>
