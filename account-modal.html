<div id="accountModal" class="modal" style="display:none;">
  <div class="modal-content" style="max-width:400px; margin:auto; position:relative;">
    <span id="closeAccountModal" class="close" style="position:absolute; top:10px; right:16px; font-size:24px; cursor:pointer;">&times;</span>
    
    <!-- Username Display Bar -->
    <div style="display:flex; align-items:center; justify-content:center; margin-top:24px; margin-bottom:10px;">
      <span id="accountUsernameDisplay" style="font-size:1.3em; font-weight:600; text-align:center;"></span>
      <button id="editUsernameBtn" title="Edit Username" style="background:none; border:none; margin-left:8px; cursor:pointer;">
        <!-- Pen Icon SVG -->
        <svg width="18" height="18" viewBox="0 0 24 24" style="vertical-align:middle; fill:none; stroke:#3949ab; stroke-width:2;">
          <path d="M15.232 5.232l3.536 3.536M9 13l6.586-6.586a2 2 0 1 1 2.828 2.828L11.828 15.828a4 4 0 0 1-1.414.828l-4 1a1 1 0 0 1-1.212-1.212l1-4a4 4 0 0 1 .828-1.414z"/>
        </svg>
      </button>
    </div>
    <!-- Username Edit Bar (hidden by default) -->
    <div id="accountUsernameEditSection" style="display:none; flex-direction:column; align-items:center;">
      <input type="text" id="accountUsernameInput" style="width:70%; margin-bottom:6px;" placeholder="Enter new username" />
      <div id="accountUsernameErrorMsg" style="color:#c00; font-size:0.95em; min-height:18px;"></div>
      <div>
        <button id="saveEditUsernameBtn" style="margin-right:8px;">Save</button>
        <button id="cancelEditUsernameBtn">Cancel</button>
      </div>
    </div>
    
    <!-- Your Progress Section -->
    <div style="display:flex; align-items:center; margin-top:24px; margin-bottom:10px;">
      <span style="font-size:1.1em; font-weight:600;">Your Progress</span>
      <hr style="flex:1; margin-left:10px; border:none; border-top:1.5px solid #ddd;">
    </div>
    <div id="unitProgressList">
      <!-- Progress bars will be injected here -->
      <!-- Example: 
      <div style="margin-bottom:10px;">
        <span style="display:inline-block;width:110px;">Unit 1:</span>
        <div style="display:inline-block;vertical-align:middle;width:150px;height:12px;background:#eee;border-radius:6px;overflow:hidden;">
          <div style="height:12px;background:#3949ab;width:80%;"></div>
        </div>
        <span style="margin-left:8px;">80%</span>
      </div>
      -->
    </div>
    <div id="finalQuizScoreSection" style="margin:12px 0 0 0;">
      <span style="font-weight:500;">Final Quiz Best Score:</span>
      <span id="finalQuizBestScore"></span>
    </div>
    
    <!-- QOTD Stats Section -->
    <div style="display:flex; align-items:center; margin-top:24px; margin-bottom:10px;">
      <span style="font-size:1.1em; font-weight:600;">QOTD Stats</span>
      <hr style="flex:1; margin-left:10px; border:none; border-top:1.5px solid #ddd;">
    </div>
    <div id="qotdStatsBox">
      <!-- QOTD stats injected here (same format as your other qotd stats box) -->
    </div>
    
    <!-- Badges Section -->
    <div style="display:flex; align-items:center; margin-top:24px; margin-bottom:10px;">
      <span style="font-size:1.1em; font-weight:600;">Your Badges</span>
      <hr style="flex:1; margin-left:10px; border:none; border-top:1.5px solid #ddd;">
    </div>
    <div id="userBadges" style="display:flex; gap:18px; justify-content:center; margin-bottom:16px;">
      <!-- 4 badge outlines as placeholders -->
      <div style="width:42px; height:42px; border:2px dashed #bbb; border-radius:50%; background:#fafafa;"></div>
      <div style="width:42px; height:42px; border:2px dashed #bbb; border-radius:50%; background:#fafafa;"></div>
      <div style="width:42px; height:42px; border:2px dashed #bbb; border-radius:50%; background:#fafafa;"></div>
      <div style="width:42px; height:42px; border:2px dashed #bbb; border-radius:50%; background:#fafafa;"></div>
    </div>
  </div>
</div>
